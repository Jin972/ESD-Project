@model IEnumerable<ESD_Project.Models.Topic>

@{
    ViewBag.Title = "ListTopic";
    Layout = "~/Views/Shared/ManagerLayout.cshtml";
}

<h2>ListTopic</h2>

@if (Model.Count() > 0)
{
    foreach (var item in Model)
    {
        <div class="card mb-3" style="background-color: #f0f0f0">
                    <div class="card-body d-flex flex-column flex-sm-row">
                        <div class="text-center" style="max-height: 200px;">
                            @if (item.FileDetails != null)
                            {
                                foreach (var file in item.FileDetails)
                                {
                                    <img class="w-100 h-100"src="@Url.Action("Show", "Admin", new { fileId = @file.FileDetailsId })" />
                                }
                            }
                        </div>
                        <div>
                            <a href="@Url.Action("ViewPost", "Manager", new {id = item.TopicId })"><h5 class="fw-bold">@Html.DisplayFor(modelItem => item.Name, new { @class = "card-title h5" })</h5></a>
                            <p>@Html.DisplayFor(modelItem => item.Description, new { @class = "card-text" })</p>
                            <span class="me-1">Deadline:</span><small>@Html.DisplayFor(modelItem => item.ClosureDate, new { @class = "card-text text-danger" })</small>
                        </div>
                    </div>
        </div>
    }
}
else
{
    <div class="text-center alert alert-danger">
        <h5>No topic was created!</h5>
    </div>
}